// app.js
App({
    onLaunch: function () {
      // å±•ç¤ºæœ¬åœ°å­˜å‚¨èƒ½åŠ›
      const logs = wx.getStorageSync('logs') || [];
      logs.unshift(Date.now());
      wx.setStorageSync('logs', logs);
  
      // ç™»å½•
      this.login();
    },
    globalData: {
      userInfo: null,
      products: [
        {
          id: 0,
          title: "æ°´è‘±å¢©å­",
          image: "http://127.0.0.1:5000/images/product/æ°´è‘±å¢©å­2.png",
          description: "å–æé»„æ²³æ»©å¤´ä¸‰å¹´ç”Ÿæ°´è‘±ï¼Œç»åŒ äººé˜´å¹²ã€ç†è’¸åï¼Œä»¥åå­—ç»ç¼–æ³•å±‚å±‚ç›˜ç­‘æˆå‹ã€‚æ¯ä¸€åœˆçº¬çº¿éœ€ä¿æŒ3.2mmç­‰è·æ”¶å£ï¼Œæ–¹èƒ½ä½¿å¢©é¢æ‰¿é‡è¾¾200kgä¸å¡Œé™·ï¼Œæš—è—äºŒåå››èŠ‚æ°”ç¼–çº¹äºä¾§å£ã€‚",
          scenes: [
            "å®¢å…è§’è½ä½œå¤©ç„¶è„šå‡³ï¼Œèµ¤è¶³è§¦æ„Ÿå¦‚è¸åˆç”Ÿè‹‡è‰",
            "ä¹¦æˆ¿ç½®å¤ç±ä¸ºçŸ®å‡ ï¼Œè‰æœ¨æ¸…é¦™ä¼´å¢¨éŸµ",
            "æˆ·å¤–åº­é™¢ä½œèŠ±å™¨åŸºåº§ï¼Œä¸è—¤è”“å…±ç”Ÿ"
          ]
        },
        {
          id: 1,
          title: "æ±‰æ–‡åå«",
          image: "http://127.0.0.1:5000/images/product/æ±‰æ–‡åå«2.png",
          description: "å¤åŸæ±‰ä»£åˆè§’ç¼–æŠ€è‰ºï¼Œç”¨æ²‚è’™å±±çº¢æŸ³çš®æŸ“çº¿ï¼Œåœ¨ç»çº¬äº¤ç»‡ä¸­åµŒå…¥ç¯†ä¹¦â€œå®‰â€å­—çº¹ã€‚å†…èŠ¯å¡«å……48æ ¹å¼¹æ€§è—¤æ¡ï¼Œéœ€åŒ äººå¾’æ‰‹å¼¯æŠ˜168æ¬¡è¾¾æˆåé¢å¾®å‡¹çš„äººä½“å·¥å­¦æ›²é¢",
          scenes: [
            "èŒ¶å®¤æ¦»æ¦»ç±³æ ¸å¿ƒä½ï¼Œä¹…åä¸é—·æ±—",
            "é£˜çª—é˜…è¯»è§’é“ºé™ˆï¼ŒæŸ³æ¡æ‰˜è…°æŠ¤è„Š",
            "ä½œä¸ºä¸­å¼é¤æ¤…è½¯å«ï¼Œå®´å®¢æ—¶æš—è—æ–‡åŒ–å½©è›‹"
          ]
        },
        {
            id: 2,
            title: "è‰ç¼–æ¤…å­",
            image: "http://127.0.0.1:5000/images/product/è‰ç¼–æ¤…å­2.png",
            description: "æ¤…æ¶é‡‡ç”¨æ³°å±±é‡ç”Ÿç´«ç©—æ§ï¼Œç»ç«çƒ¤å®šå‹æˆæµçº¿æ¤…èƒŒã€‚ç‹¬åˆ›ç©ºæ°”å±‚ç¼–ç»‡æœ¯ï¼ŒåŒå±‚ç¯èŠ¯è‰äº¤é”™å½¢æˆé€æ°”ç½‘ï¼Œåé¢æ¸©åº¦æ¯”å¸¸è§„è—¤æ¤…ä½5â„ƒã€‚",
            scenes: [
              "é˜³å°æ™¨è¯»ä¸“åº§ï¼Œæ™¨éœ²æœªæ™æ—¶æ„Ÿå—è‰æœ¨å‘¼å¸",
              "æ­é…åŸæœ¨ä¹¦æ¡ŒæˆåŠå…¬æ¤…ï¼Œä¹…åä¸ç²˜è‚¤",
              "æˆ·å¤–éœ²è¥æ—¶ä½œç”Ÿæ€åº§æ¤…ï¼Œä¸å±±é‡æµ‘ç„¶ä¸€ä½“"
            ]
          },
          {
            id: 3,
            title: "è‰ç¼–èŒ¶å‡ ",
            image: "http://127.0.0.1:5000/images/product/è‰ç¼–èŒ¶å‡ 2.png",
            description: "ä¼ ç»ŸæŸ³ç¼–+ç¢³çº¤ç»´éª¨æ¶ï¼Œæ‰¿é‡å¥½ï¼Œé‡‡ç”¨åšå…´è‡ªç ”è‰æœ¨å›ºè‰²æŠ€æœ¯ï¼Œè‰²ç‰¢åº¦è¾¾4-5çº§ã€‚",
            scenes: [
              "å®¢å…ä¸­å¤®ç½®èŒ¶å™¨ï¼ŒèŒ¶æ°´å€¾æ´’å³æ¸—ä¸ç•™ç—•",
              "æ°‘å®¿åº­é™¢ä½œå†°é¥®å°ï¼Œå¤©ç„¶æè´¨æŠ—æ›æ™’",
              "å„¿ç«¥æˆ¿æ‘†æ”¾ç»˜æœ¬ï¼Œåœ†è§’è®¾è®¡é˜²ç£•ç¢°"
            ]
          },
          {
            id: 4,
            title: "è’²è‰èŠ±è¾¹",
            image: "http://127.0.0.1:5000/images/product/è’²è‰èŠ±è¾¹2.png",
            description: "é‡ç”Ÿè’²è‰ï¼Œç»ç†è’¸å›ºè‰²å·¥è‰ºå¤„ç†ï¼Œä½¿ç”¨åšå…´éé—ç»è‚¡èºæ—‹ç¼–æ³•ï¼Œå•ä»¶ä½œå“éœ€ç©¿æ’1200+æ¬¡çº¬çº¿ï¼Œå¯å¼¯æ›²æˆç›´å¾„15-50cmåœ†å¼§ï¼Œé€‚é…å¤šç§æ›²é¢é€ å‹",
            scenes: [
              " æ–°ä¸­å¼çª—å¸˜ç©—å¤´è£…é¥°",
              "èŒ¶å®¤å±é£æ ¼æ …ç‚¹ç¼€",
              "å©šç¤¼èƒŒæ™¯å¢™ç”Ÿæ€çº¹æ ·"
            ]
          },
          {
            id: 5,
            title: "é’¢å¢©",
            image: "http://127.0.0.1:5000/images/product/é’¢å¢©2.png",
            description: "304ä¸é”ˆé’¢éª¨æ¶+åšå…´è‰ç¼–åŒ…è¦†å±‚ï¼Œé˜²åŠ¨æ€å†²å‡»ï¼Œâ€‹ä½¿ç”¨ç«‹ä½“ç»æ¥ç¼–æ³•ï¼ŒæŸ³æ¡ä¸é’¢æ„é—´éš™â‰¤1.5mmé˜²å°˜è®¾è®¡",
            scenes: [
              "ç¾æœ¯é¦†å±•å°åŸºåº§",
              "LOFTç©ºé—´å·¥ä¸šé£åå…·",
              "å•†ä¸šç©ºé—´å¯ç§»åŠ¨éš”æ–­"
            ]
          },
          {
            id: 6,
            title: "è‰ç¼–åŒ…",
            image: "http://127.0.0.1:5000/images/product/è‰ç¼–åŒ…2.png",
            description: "èŠ¦è‹‡çš®+äºšéº»æ··ç¼–æŠ€æœ¯",
            scenes: [
              "æ£®ç³»ç©¿æ­æ ¸å¿ƒé…é¥°",
              "è¶…å¸‚ç¯ä¿è´­ç‰©è¢‹æ›¿ä»£",
              "äº²å­ç ”å­¦æ‰‹ä½œæ•™å…·"
            ]
          },
          {
            id: 7,
            title: "è‰ç¼–å‡³å­",
            image: "http://127.0.0.1:5000/images/product/è‰ç¼–å‡³å­2.png",
            description: "é€‰åšå…´ä¸‰å¹´ç”Ÿå‡¤å°¾ç«¹ï¼Œç»180å¤©è‡ªç„¶æ™¾æ™’ï¼Œå–ç«¹é’å±‚åŠˆå‡º0.3mmåŒ€è–„ç¯¾ç‰‡ã€‚è€åŒ äººæŒ‡å°–çš„æ¸©åº¦æ¸—å…¥16é“æ‰‹å·¥å·¥åºâ€”â€”ä»äººå­—ç¼–æ‰¿é‡éª¨æ¶çš„ç»çº¬å’¬åˆï¼Œåˆ°å…­è§’å­”åé¢çš„å¼¹æ€§çŸ©é˜µï¼Œæ¯å¯¸æ›²é¢éƒ½è—ç€ç¥–è¾ˆçš„åŠ›å­¦å¯†ç ã€‚æœ€åä»¥å±±èŒ¶æ²¹æµ¸æ¶¦ç«¹çº¹ï¼Œè®©æ—¶å…‰åœ¨è—¤æ¡é—´æ²‰æ·€å‡ºç¥ç€å…‰æ³½ã€‚",
            scenes: [
              "ğŸŒ¿ â€‹é˜³å°é˜…è¯»è§’\næ™¨å…‰ç©¿è¿‡è—¤æ¡ç¼éš™ï¼Œåœ¨ä¹¦æœ¬ä¸Šç»‡å‡ºæ–‘é©³èŠ±å½±ï¼Œå¤©ç„¶ç«¹é¦™ä¸å’–å•¡æ°”æ¯å…±èˆ",
              "ğŸ›‹ï¸ â€‹å®¢å…æ··æ­æœ¯\nåŒ—æ¬§æç®€æ²™å‘æ—æ–œæ”¾è—¤æ¤…ï¼Œç²—é™¶èŠ±å™¨ä¸ç¾Šæ¯›æ¯¯éšæ„æ­æ‰¶æ‰‹ä¸Šï¼Œç§’å˜insåšä¸»åŒæ¬¾è§’è½",
              "ğŸµ â€‹æ–°ä¸­å¼èŒ¶ç©ºé—´\né…å²©æ¿èŒ¶å°+æ±çª‘èŒ¶å…·ï¼Œè—¤æ¤…å¼§çº¿åº”å’ŒèŒ¶ç­…åˆ’å‡ºçš„æ°´æ³¢çº¹ï¼Œæ¼”ç»å®‹ä»£ç‚¹èŒ¶ç¾å­¦",
            ]
          },
          {
            id: 8,
            title: "å‡¤æ –æ¢§",
            image: "http://127.0.0.1:5000/images/product/å‡¤æ –æ¢§.png",
            description: "é€ å‹å–æ³•ã€Šå®‹å¾½å®—ç‘é¹¤å›¾ã€‹ä¸åšå…´ä¸‰å¼¯æŸ³ç¼–ç»æŠ€ï¼Œå‡¤å‡°æ˜‚é¦–æ›²é¢ˆå‘ˆ29Â°ä»°è§’ï¼Œæš—åˆç™¾é¸Ÿæœå‡¤ç¤¼åˆ¶ã€‚å°¾ç¾½ä¸ƒå±‚é€’è¿›å¼ç¼–ç»‡ï¼Œé‡‡ç”¨æŒ‘ä¸‰å‹äºŒå…­è§’å­”ç¼–æ³•ï¼Œ2134æ ¹æŸ“è‰²è’²è‰æ„å»ºç©ºæ°”åŠ¨åŠ›å­¦æ›²é¢ï¼Œé™ç½®æ—¶äº¦å­˜å±•ç¿…æ¬²é£çš„åŠ¿èƒ½ã€‚",
          },
          {
            id: 9,
            title: "ç»çº¬æµå¹´",
            image: "http://127.0.0.1:5000/images/product/ç»çº¬æµå¹´.png",
            description: "ç¯®ä½“å–å¤©åœ†åœ°æ–¹å¤åˆ¶ï¼Œç›´å¾„38cmæš—åˆé»„é“å‘¨å¤©åº¦æ•°ï¼Œé‡‘å±éª¨é‡‡ç”¨é²ç­é”æ¦«æ¥ç¯æŠ±å·¥è‰ºï¼Œå®ç°360Â°æ— ç„Šç‚¹é—­åˆã€‚åº•éƒ¨ä¹å®«æ‰¿é‡ç¼–æ³•æºè‡ªåšå…´æ¸”æ°‘èˆ¹ç¯“æŠ€è‰ºï¼Œå…­å±‚åŠ å¯†çº¬çº¿å¯æ‰¿è½½8kgåŠ¨æ€è´Ÿè·ã€‚å†…ç½®LEDæŸ”å…‰æ¨¡å—å¯åŠ¨æ—¶ï¼Œæµè‹åŒ–ä½œæ˜Ÿå®¿å›¾è°±",
          },
          {
            id: 10,
            title: "è—¤é“ƒå’ŒéŸ³",
            image: "http://127.0.0.1:5000/images/product/è—¤é“ƒå’ŒéŸ³.png",
            description: "é”¥å½¢ç¼–ç»‡ä½“ä»¥èºæ—‹ä¸Šå‡çš„å‡ ä½•å½¢æ€æš—åˆé“å®¶â€œé“ç”Ÿä¸€ï¼Œä¸€ç”Ÿä¸‰â€çš„å®‡å®™ç”Ÿæˆè®ºï¼ŒæŸ³æ¡çš„ç»çº¬äº¤é”™æ„æˆç”Ÿç”Ÿä¸æ¯çš„åŠ¨æ€å¹³è¡¡ã€‚åº•éƒ¨é“ƒé“›å®ä¸ºâ€œåŠ¨é™ç›¸ç”Ÿâ€çš„ä¸œæ–¹ç¾å­¦å®è·µâ€”â€”é™é»˜çš„ç¼–ç»‡ä½“ä¸è·ƒåŠ¨çš„å£°æ³¢å½¢æˆå¤ªæé˜´é˜³å¼çš„äº’è¡¥ç»“æ„ï¼Œä½¿ä¼ ç»Ÿå™¨ç‰©çªç ´è§†è§‰ç»´åº¦ï¼Œæˆä¸ºå¯è†å¬çš„é›•å¡‘ã€‚",
          },
          {
            id: 11,
            title: "å§å”§åŒ…",
            image: "http://127.0.0.1:5000/images/product/å§å”§åŒ….png",
            description: "ç”¨éæ¬§å‡ é‡Œå¾—æ›²é¢ç¼–ç»‡æ³•ï¼Œåœ¨ä¼ ç»Ÿå…«å­—ç¼–åŸºç¡€ä¸Šæ¤å…¥åˆ†å½¢ç®—æ³•ï¼Œå½¢æˆå¯è‡ªç»„ç»‡çš„æ˜Ÿäº‘çŠ¶ç¼–ç»‡è‚Œç†ã€‚æ¯å¹³æ–¹å˜ç±³å†…ç½®0.5mmè§å…‰çº¤ç»´ï¼Œå¤œé—´å‘ˆç°ã€Šèµ›åšæœ‹å…‹2077ã€‹éœ“è™¹ç®¡æ—¢è§†æ„Ÿã€‚",
          },
          {
            id: 12,
            title: "é’ç»œå¿ƒå¢Ÿ",
            image: "http://127.0.0.1:5000/images/product/é’ç»œå¿ƒå¢Ÿ.png",
            description: "å¿ƒå½¢æ ‡ç­¾æ„æˆå¾·å‹’å…¹å¼çš„æƒ…åŠ¨è£…ç½®ï¼Œå°†ã€ŠLOVE YOUã€‹æ–‡å­—ç¬¦ç è½¬è¯‘ä¸ºå…‰åˆä½œç”¨èˆ¬çš„èƒ½é‡äº¤æ¢ç³»ç»Ÿã€‚æ¤ç‰©å¶ç‰‡çš„å…‰æ³½è¡¨é¢å®ä¸ºæƒ…æ„Ÿåå°„é•œï¼Œå…¶å¶è„‰åˆ†å½¢ç»“æ„åœ¨å¾®è§‚å°ºåº¦å¤åˆ»ç¼–ç»‡èŠ±ç¯®çš„ç»çº¬ç§©åºï¼Œå½¢æˆç»†èƒå±‚é¢çš„å·¥è‰ºå›",
          },
          {
            id: 13,
            title: "ç†µå½©ç»“ç©¹",
            image: "http://127.0.0.1:5000/images/product/ç†µå½©ç»“ç©¹.png",
            description: "å‘½åèåˆçƒ­åŠ›å­¦ç¬¬äºŒå®šå¾‹çš„â€œç†µâ€æ¦‚å¿µä¸ç¼–ç»‡å·¥è‰ºçš„â€œç»“â€æ„ç¾å­¦ï¼Œâ€œç©¹â€æ—¢æŒ‡ä»£å¸½ä½“çš„å¼§å½¢ç©ºé—´ï¼Œäº¦éšå–»æ–‡åŒ–åŸºå› çš„æ‹“æ‰‘å»¶å±•ã€‚è‹±æ–‡è¯‘åChromato-Entropy Crownæ­ç¤ºè‰²å½©å¼¥æ•£ä¸ç§©åºé‡æ„çš„é‡å­åšå¼ˆï¼Œæš—è—æ··æ²Œä¸ç»“æ„å…±ç”Ÿçš„åç°ä»£å™äº‹ã€‚",
          },
          {
            id: 14,
            title: "éå…‰ç»‡è¯­",
            image: "http://127.0.0.1:5000/images/product/éå…‰ç»‡è¯­.png",
            description: "å‘½å°†è—¤æ ¼çº¹çš„ç§©åºæ„Ÿè½¬åŒ–ä¸ºå¯è§¦æ‘¸çš„è§†è§‰éŸµå¾‹ï¼Œéé‡‘é…ä»¶åˆ™å¦‚æ•£è½å…¶é—´çš„æ ‡ç‚¹ç¬¦å·ï¼Œå…±åŒæ„å»ºå‡ºæµåŠ¨çš„æè´¨è¯—ç¯‡ã€‚ä»¥ç«‹ä½“æ´¾æ‰‹æ³•é‡æ„æ–°å¤å…¸ä¸»ä¹‰ç²¾ç¥ï¼Œåœ¨æè´¨è¤¶çš±é—´è—åŒ¿æµåŠ¨çš„æ—¶é—´å²è¯—ï¼Œè®©æ¯ä¸ªç¼–ç»‡èŠ‚ç‚¹éƒ½æˆä¸ºæ³•å…°è¥¿å·¥è‰ºç¾å­¦çš„å¾®å‹çºªå¿µç¢‘ã€‚",
          },
          {
            id: 15,
            title: "é’å±±å…¥æ€€",
            image: "http://127.0.0.1:5000/images/product/é’å±±å…¥æ€€.png",
            description: "é‡‡ç”¨å…­è§’ç¼–æ³•çš„ç«‹ä½“æˆå‹æŠ€æœ¯ï¼Œç»çº¬äº¤é”™å½¢æˆ0.3mmç²¾åº¦çš„æ›²é¢ï¼Œå±•ç°ç«¹ææŸ”éŸ§æ€§ä¸ç»“æ„åˆšæ€§çš„å®Œç¾å¹³è¡¡ã€‚å™¨ç‰©ç›´å¾„çº¦30cmçš„è§„æ•´åœ†å‘¨ï¼Œæš—åˆã€Šå‘¨é«€ç®—ç»ã€‹â€œåœ†å‡ºäºæ–¹â€çš„é€ ç‰©æ™ºæ…§ï¼Œç«¹ç¯¾å¼§çº¿ç²¾ç¡®éµå¾ªåœ†å‘¨ç‡Ï€çš„æ›²ç‡å˜åŒ–ã€‚",
          },
      ]
    },
    login: function () {
      let that = this;
      wx.login({
        success: res => {
          // å‘é€ res.code åˆ°åå°æ¢å– openId, sessionKey, unionId
          if (res.code) {
            // è¿™é‡Œæ˜¯è°ƒç”¨åå°APIæ¢å–ç”¨æˆ·ä¿¡æ¯çš„ç¤ºä¾‹ï¼Œæ‚¨éœ€è¦æ›¿æ¢ä¸ºæ‚¨çš„å®é™…API
            wx.request({
              url: 'http://0.0.0.0:8000/login', // æ›¿æ¢ä¸ºæ‚¨çš„ç™»å½•API
              method: 'POST',
              data: {
                code: res.code
              },
              success: function (response) {
                // å‡è®¾è¿”å›çš„æ•°æ®æ ¼å¼ä¸º { openid: 'xxx', session_key: 'xxx' }
                // è¿™é‡Œéœ€è¦æ ¹æ®å®é™…è¿”å›çš„æ•°æ®ç»“æ„æ¥å¤„ç†
                that.globalData.userInfo = response.data.userInfo;
                // å¯ä»¥åœ¨è¿™é‡Œå¤„ç†å…¶ä»–ç™»å½•æˆåŠŸçš„é€»è¾‘
              },
              fail: function (error) {
                // å¤„ç†ç™»å½•å¤±è´¥
                console.error('ç™»å½•å¤±è´¥:', error);
              }
            });
          } else {
            console.log('ç™»å½•å¤±è´¥ï¼' + res.errMsg);
          }
        }
      });
    }
  });
  